<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Get the current path and clean it up
    const path = window.location.pathname;
    const base = '/spatial-sense';
    
    // Remove any existing base path
    let cleanPath = path.startsWith(base) ? path.slice(base.length) : path;
    
    // Remove any leading/trailing slashes and index.html
    cleanPath = cleanPath.replace(/^\/+|\/+$/g, '').replace(/^index\.html\/?/, '');
    
    // Build the new URL
    const newUrl = `${base}/${cleanPath ? cleanPath + '/' : ''}index.html${window.location.search}${window.location.hash}`;
    
    // Only redirect if we're not already on the correct URL
    if (window.location.href !== newUrl) {
      window.history.replaceState({}, '', newUrl);
      window.location.reload();
    }
  </script>
  <noscript>
    <meta http-equiv="refresh" content="0; url=/spatial-sense/index.html">
  </noscript>
</head>
<body>
  <p>Redirecting to the application...</p>
</body>
</html>
